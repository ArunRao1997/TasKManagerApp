(this["webpackJsonptaskmanager-frontend"]=this["webpackJsonptaskmanager-frontend"]||[]).push([[0],{11:function(t,e,a){},19:function(t,e,a){},25:function(t,e,a){"use strict";a.r(e);var c=a(3),s=a.n(c),n=a(12),r=a.n(n),i=(a(19),a(11),a(5)),j=a(27);const l="http://127.0.0.1:8000/api/tasks/";var o=a(2);var d=()=>{const[t,e]=Object(c.useState)([]),[a,s]=Object(c.useState)(null),[n,r]=Object(c.useState)({taskName:"",taskDescription:""}),[d,b]=Object(c.useState)(!1);Object(c.useEffect)((()=>{h()}),[]);const h=async()=>{try{const t=await j.a.get(l);e(t.data)}catch(t){console.error("Error fetching tasks:",t)}},k=async e=>{try{await(a=t[e].id,c=n,j.a.put(`${l}${a}/`,c)),h(),s(null)}catch(r){console.error("Error updating task:",r)}var a,c},O=()=>{s(null),r({taskName:"",taskDescription:""}),b(!1)},x=async e=>{try{await(c=t[e].id,j.a.delete(`${l}${c}/`)),h(),a===e&&s(null)}catch(n){console.error("Error deleting task:",n)}var c},p=t=>{r({...n,[t.target.name]:t.target.value})};return Object(o.jsx)("div",{className:"task-list-container",children:Object(o.jsxs)("table",{className:"task-table",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Task Name"}),Object(o.jsx)("th",{children:"Task Description"}),Object(o.jsx)("th",{children:"Actions"})]})}),Object(o.jsxs)("tbody",{children:[t.map(((e,c)=>Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:a===c?Object(o.jsx)("input",{type:"text",name:"taskName",value:n.taskName,onChange:p}):e.taskName}),Object(o.jsx)("td",{children:a===c?Object(o.jsx)("input",{type:"text",name:"taskDescription",value:n.taskDescription,onChange:p}):e.taskDescription}),Object(o.jsx)("td",{children:a===c?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(i.c,{onClick:()=>k(c)}),Object(o.jsx)(i.d,{onClick:O})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(i.a,{onClick:()=>(e=>{s(e),r(t[e])})(c)}),Object(o.jsx)(i.e,{onClick:()=>x(c)})]})})]},e.id))),d&&Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:Object(o.jsx)("input",{type:"text",name:"taskName",value:n.taskName,placeholder:"Task Name",onChange:p})}),Object(o.jsx)("td",{children:Object(o.jsx)("input",{type:"text",name:"taskDescription",value:n.taskDescription,placeholder:"Task Description",onChange:p})}),Object(o.jsxs)("td",{children:[Object(o.jsx)(i.c,{onClick:async()=>{if(n.taskName&&n.taskDescription)try{await(t=n,j.a.post(l,t)),h(),r({taskName:"",taskDescription:""}),b(!1)}catch(e){console.error("Error adding task:",e)}var t}}),Object(o.jsx)(i.d,{onClick:O})]})]}),!d&&Object(o.jsx)("tr",{children:Object(o.jsx)("td",{colSpan:"3",className:"add-row",children:Object(o.jsx)(i.b,{onClick:()=>b(!0)})})})]})]})})};var b=()=>Object(o.jsx)("div",{className:"App",children:Object(o.jsx)("div",{className:"task-container",children:Object(o.jsx)(d,{})})});var h=t=>{t&&t instanceof Function&&a.e(3).then(a.bind(null,28)).then((e=>{let{getCLS:a,getFID:c,getFCP:s,getLCP:n,getTTFB:r}=e;a(t),c(t),s(t),n(t),r(t)}))};r.a.createRoot(document.getElementById("root")).render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(b,{})})),h()}},[[25,1,2]]]);
//# sourceMappingURL=main.bc2e0511.chunk.js.map